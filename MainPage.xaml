<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
x:Class="PaperTrails_ThomasAdams_c3429938.MainPage"
xmlns:local="clr-namespace:PaperTrails_ThomasAdams_c3429938.Models"
xmlns:main="clr-namespace:PaperTrails_ThomasAdams_c3429938"
Title="">

    <ScrollView>
        <VerticalStackLayout
            Spacing="10"
            Padding="10,10"
            VerticalOptions="Start">
            

            <SearchBar
                Placeholder="Search for books, authors, or ISBN"
                Margin="0, 5"
                FontSize="16" />

            <Label
                Text="My Books"
                SemanticProperties.HeadingLevel="Level2"
                FontSize="24"
                HorizontalOptions="Center" />

            <BoxView HeightRequest="1" Color="Gray" HorizontalOptions="Fill" />

            <Label
                Text="Reading"
                SemanticProperties.HeadingLevel="Level2"
                FontSize="18"
                HorizontalOptions="Start" />
            
            <CollectionView ItemsSource="{Binding ReadingBooks}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="10">

                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer 
                                    Command="{Binding Source={RelativeSource AncestorType={x:Type main:MainPage}}, Path=NavigateToSavedBookDetailsCommand}"
                                    CommandParameter="{Binding .}" />
                            </Grid.GestureRecognizers>
                            
                            
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.25*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="0.1*" />
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="0" Source="book_placeholder.png" Aspect="AspectFit"/>

                            <VerticalStackLayout Grid.Column="1" Margin="10,0">
                                <Label Text="{Binding title}" FontAttributes="Bold"/>
                                <Label Text="{Binding description}"  FontSize="12"/>
                            </VerticalStackLayout>

                            <Image Grid.Column="2" Source="arrow_right.png" Aspect="AspectFit"/>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Label
                Text="Want to Read"
                SemanticProperties.HeadingLevel="Level2"
                FontSize="18"
                HorizontalOptions="Start" />

            <CollectionView ItemsSource="{Binding WantToReadBooks}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="10">

                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer 
                                    Command="{Binding Source={RelativeSource AncestorType={x:Type main:MainPage}}, Path=NavigateToSavedBookDetailsCommand}"
                                    CommandParameter="{Binding .}" />
                            </Grid.GestureRecognizers>
                            
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.25*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="0.1*" />
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="0" Source="book_placeholder.png" Aspect="AspectFit"/>

                            <VerticalStackLayout Grid.Column="1" Margin="10,0">
                                <Label Text="{Binding title}" FontAttributes="Bold"/>
                                <Label Text="{Binding description}"  FontSize="12"/>
                            </VerticalStackLayout>

                            <Image Grid.Column="2" Source="arrow_right.png" Aspect="AspectFit"/>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Label
                Text="Read"
                SemanticProperties.HeadingLevel="Level2"
                FontSize="18"
                HorizontalOptions="Start" />

            <CollectionView ItemsSource="{Binding ReadBooks}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="10">

                            <Grid.GestureRecognizers>
                                <TapGestureRecognizer 
                                    Command="{Binding Source={RelativeSource AncestorType={x:Type main:MainPage}}, Path=NavigateToSavedBookDetailsCommand}"
                                    CommandParameter="{Binding .}" />
                            </Grid.GestureRecognizers>
                            
                            
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.25*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="0.1*" />
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="0" Source="book_placeholder.png" Aspect="AspectFit"/>

                            <VerticalStackLayout Grid.Column="1" Margin="10,0">
                                <Label Text="{Binding title}" FontAttributes="Bold"/>
                                <Label Text="{Binding description}"  FontSize="12"/>
                            </VerticalStackLayout>

                            <Image Grid.Column="2" Source="arrow_right.png" Aspect="AspectFit"/>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>